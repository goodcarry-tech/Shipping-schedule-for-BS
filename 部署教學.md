# 🚢 Shipping Schedule Organizer — 部署教學

## 📦 準備事項

| 項目 | 說明 | 費用 |
|------|------|------|
| **GitHub 帳號** | 存放程式碼 | 免費 |
| **Streamlit Cloud** | 網站主機 | 免費 |
| **Anthropic API** | 解析 PDF/圖片（選用）| ~$5-10/月 |

> ⚠️ **沒有 API Key 也能用！** Excel 格式不需要 API Key，可免費使用。

---

## 📋 部署步驟（5 分鐘完成）

### **步驟 1：上傳到 GitHub**

1. **登入 GitHub**  
   前往 [github.com](https://github.com) → 登入（沒帳號免費註冊）

2. **建立新 Repository**  
   點右上角 **「+」** → **「New repository」**
   
   填入：
   ```
   Repository name: shipping-schedule-app
   ✅ Public（必須，免費版限定）
   ✅ Add a README file
   ```
   點 **「Create repository」**

3. **上傳檔案**  
   在 repository 頁面：
   - 點 **「Add file」** → **「Upload files」**
   - 拖曳 `app.py` 和 `requirements.txt` 進去
   - 填 Commit message：`Initial commit`
   - 點 **「Commit changes」**

✅ **確認檔案齊全：**
```
📁 shipping-schedule-app
  ├── README.md
  ├── app.py
  └── requirements.txt
```

---

### **步驟 2：部署到 Streamlit Cloud**

1. **登入 Streamlit**  
   前往 [share.streamlit.io](https://share.streamlit.io)  
   → 用 **GitHub 帳號** 登入（授權存取）

2. **建立新 App**  
   點 **「New app」**（右上角藍色按鈕）
   
   填入：
   ```
   Repository:      你的帳號/shipping-schedule-app
   Branch:          main
   Main file path:  app.py
   App URL:         自訂網址（如 my-shipping-app）
   ```
   點 **「Deploy!」**

3. **等待部署完成**  
   ⏱️ 首次約 3-5 分鐘  
   ✅ 看到綠色勾勾 = 成功！

---

### **步驟 3：設定 API Key（選用）**

> 📌 **如果只用 Excel 上傳，可跳過此步驟**

#### **3.1 取得 API Key**

1. 前往 [console.anthropic.com](https://console.anthropic.com)
2. 登入 → **「API Keys」** → **「Create Key」**
3. 命名（如 `shipping-app`）→ **立刻複製** key  
   格式：`sk-ant-api03-xxxxx...`
4. 儲值 $10 建議額度（**Usage** → **Add credits**）

#### **3.2 加入 Streamlit Secrets**

1. 回到 Streamlit Cloud 的 **App 頁面**
2. 點右下角 **「⚙️ Settings」**
3. 左側選 **「Secrets」**
4. 貼入：
   ```toml
   ANTHROPIC_API_KEY = "sk-ant-api03-你的完整key"
   ```
5. 點 **「Save」** → App 自動重啟（30秒）

---

## 🎯 使用教學

### **上傳檔案**

**Excel / CSV（免費）**
- 自動偵測欄位
- 支援任何格式的船期表

**PDF（需 API Key）**
- Claude 自動讀取文字
- 費用：~$0.01/檔

**圖片 PNG/JPG（需 API Key）**
- 對船公司網站截圖
- Claude Vision 自動辨識
- 費用：~$0.03/張

### **操作流程**

1. **側邊欄** → 選擇 Carrier / POL / POD
2. **Tab 1** → 拖曳檔案 → 點「🚀 Parse All Files」
3. **Tab 2** → 預覽/編輯資料
4. **Tab 3** → 匯出 Excel

---

## 📊 Excel 輸出格式

**自動分 Sheet：**
```
📋 All Schedules       ← 所有資料
🗂️ CNC - KHH - MAR    ← CNC 到高雄，3月
🗂️ YML - HKG - FEB    ← YML 到香港，2月
...依此類推
```

**欄位：**
```
CARRIER | POL | POD | Vessel | Voyage | ETD | ETA | 
T/T Time | CY Cut-off | SI Cut-off
```

---

## 🔧 更新程式

修改 app.py 後：
1. GitHub → 你的 repository → 點 `app.py`
2. 右上角 **✏️ Edit**
3. 修改完點 **「Commit changes」**
4. Streamlit 自動重新部署（1-2分鐘）

---

## ❓ 常見問題

**Q: App 第一次開很慢？**  
A: 冷啟動正常，約 30-60 秒。常用會變快。

**Q: 圖片辨識不準？**  
A: 確保截圖清晰，文字夠大。建議解析度 ≥ 1280px。

**Q: PDF 解析失敗？**  
A: 掃描版 PDF 建議截圖成圖片上傳。

**Q: 想改成私人 App？**  
A: 需付費版 Streamlit（$25/月）或自架伺服器。

**Q: API 費用查詢？**  
A: [console.anthropic.com](https://console.anthropic.com) → **Usage**

---

## ✅ 檢查清單

部署前確認：
- [ ] `app.py` 已上傳到 GitHub
- [ ] `requirements.txt` 已上傳到 GitHub
- [ ] Streamlit Cloud 已連結 repository
- [ ] （選用）API Key 已設定在 Secrets

**就這樣！開始使用吧 🎉**
